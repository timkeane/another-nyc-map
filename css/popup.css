.active-popup {
  z-index: 10000 !important;
}

.popup-overlay {
  position: absolute;
  width: 0;
  inset-block-end: -10px;
  inset-inline-start: -30px;
}

.popup-overlay svg {
  fill: var(--cOnPrimary);
  stroke: var(--popupBorder);
  stroke-width: 1px;
  margin-top: -20px;
  height: 10px;
  overflow: visible;
}

.popup {
  width: fit-content;
  block-size: fit-content;
  background-color: var(--cOnPrimary);
  border: 1px solid var(--popupBorder);
  color: var(--cPrimary);
  padding: .5em;
  border-radius: var(--bs-border-radius);
}

.popup h2 {
  white-space: nowrap;
  padding-inline-end: 30px;
  cursor: pointer;
}

.popup a.btn-min {
  display: none;
}

.popup.min a.btn-min {
  display: block;
}

.popup.min h2 {
  padding-inline-end: 45px;
}

.popup h2:active {
  cursor: grab;
}

.popup-content {
  max-height: 380px;
  overflow: auto;
  font-size: .75em;
}

.popup-content .feature-html.generic {
  max-width: 320px;
}

.popup-content .feature-html.generic td {
  padding: 1px 2px;
}

.popup-content .feature-html.generic td.field {
  max-width: 150px;
  overflow-x: auto;
}

.popup-content .feature-html.generic tr.geo {
  background-color: rgba(0,0,0,0.07);
}

.popup-content td {
  white-space: nowrap;
}

.popup-content td.field {
  font-weight: bold;
}

.popup-content .feature-html h3,
.popup-content .feature-html div,
.popup-content .feature-html address {
  margin: .5em 0;
}

.feature-html.subway-line a:hover img,
.feature-html.sir-line a:hover img,
.feature-html.subway-station a:hover img {
  background: rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,1));
}

.feature-html.subway-line a img,
.feature-html.sir-line a img,
.feature-html.subway-station a img {
  padding: 1px;
  border-radius: 50%;
}

